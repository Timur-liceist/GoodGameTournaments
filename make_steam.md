–ù–∏–∂–µ ‚Äî –ø—Ä–æ—Å—Ç–æ–π –∏ —Ä–∞–±–æ—á–∏–π —Å–ø–æ—Å–æ–± —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤—Ö–æ–¥ —á–µ—Ä–µ–∑ Steam –≤ Django. –ò—Å–ø–æ–ª—å–∑—É–µ–º **python-social-auth / social-auth-app-django**, —Ç.–∫. —ç—Ç–æ —Å–∞–º–∞—è —É–¥–æ–±–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è OAuth-–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, –≤–∫–ª—é—á–∞—è Steam.

---

# ‚úÖ –°–ø–æ—Å–æ–± 1: **social-auth-app-django** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

## 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –±–∏–±–ª–∏–æ—Ç–µ–∫—É

```bash
pip install social-auth-app-django
```

---

## 2. –î–æ–±–∞–≤—å—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ `settings.py`

```python
INSTALLED_APPS = [
    ...
    'social_django',
]
```

---

## 3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –≤ `settings.py`

```python
AUTHENTICATION_BACKENDS = (
    'social_core.backends.steam.SteamOpenId',
    'django.contrib.auth.backends.ModelBackend',
)

LOGIN_REDIRECT_URL = '/'
LOGOUT_REDIRECT_URL = '/'
```

---

## 4. –ü–æ–ª—É—á–∏—Ç–µ **Steam Web API Key**

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ –∞–¥—Ä–µ—Å—É:
[https://steamcommunity.com/dev/apikey](https://steamcommunity.com/dev/apikey)

–£–∫–∞–∂–∏—Ç–µ –¥–æ–º–µ–Ω –ø—Ä–æ–µ–∫—Ç–∞, –ø–æ–ª—É—á–∏—Ç–µ –∫–ª—é—á.

–î–æ–±–∞–≤—å—Ç–µ –µ–≥–æ –≤ `settings.py`:

```python
SOCIAL_AUTH_STEAM_API_KEY = '–í–ê–®_STEAM_API_KEY'
```

---

## 5. –î–æ–±–∞–≤—å—Ç–µ URL'—ã –≤ `urls.py`

```python
from django.urls import path, include

urlpatterns = [
    ...
    path('auth/', include('social_django.urls', namespace='social')),
]
```

–°—Å—ã–ª–∫–∞ –≤—Ö–æ–¥–∞ —á–µ—Ä–µ–∑ Steam –±—É–¥–µ—Ç —Ç–∞–∫–æ–π:

```
/auth/login/steam/
```

–∏–ª–∏ –≤ HTML:

```html
<a href="{% url 'social:begin' 'steam' %}">–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Steam</a>
```

---

## 6. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏

```
python manage.py migrate
```

---

# üéâ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å –≤ Django –¥–æ—Å—Ç—É–ø–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Steam.
–ü–æ—Å–ª–µ –ª–æ–≥–∏–Ω–∞ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –ø–æ–ª—è–º–∏, –≤–∫–ª—é—á–∞—è:

* `user.social_auth.get(provider='steam')`
* `uid` ‚Üí SteamID64
* –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª—è, –∞–≤–∞—Ç–∞—Ä –∏ —Ç.–¥.

---

# ‚ùó –ß–∞—Å—Ç–æ–µ –∑–∞–º–µ—á–∞–Ω–∏–µ

Steam –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **OpenID**, –∞ –Ω–µ –æ–±—ã—á–Ω—ã–π OAuth2, –ø–æ—ç—Ç–æ–º—É –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –Ω—É–∂–µ–Ω `SteamOpenId` –±—ç–∫–µ–Ω–¥.

---

# –ï—Å–ª–∏ —Ö–æ—á–µ—à—å ‚Äî –º–æ–≥—É:

‚úÖ —Å–¥–µ–ª–∞—Ç—å –≥–æ—Ç–æ–≤—ã–π —à–∞–±–ª–æ–Ω –ø—Ä–æ–µ–∫—Ç–∞
‚úÖ –Ω–∞–ø–∏—Å–∞—Ç—å –∫–æ–¥ –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ middleware
‚úÖ –æ–±—ä—è—Å–Ω–∏—Ç—å, –∫–∞–∫ –ø—Ä–∏–≤—è–∑—ã–≤–∞—Ç—å Steam-–∞–∫–∫–∞—É–Ω—Ç –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É User
‚úÖ —Å–¥–µ–ª–∞—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç –±–µ–∑ `social-auth`, –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ OpenID

–°–∫–∞–∂–∏, —á—Ç–æ –Ω—É–∂–Ω–æ?

–ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–æ—à—ë–ª —á–µ—Ä–µ–∑ **Steam OpenID**, —Ç–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ç—ã –ø–æ–ª—É—á–∞–µ—à—å **—Ç–æ–ª—å–∫–æ SteamID64**.
–í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω—É–∂–Ω–æ –∑–∞–ø—Ä–æ—Å–∏—Ç—å —á–µ—Ä–µ–∑ **Steam Web API** —Å –ø–æ–º–æ—â—å—é `SOCIAL_AUTH_STEAM_API_KEY`.

–ù–∏–∂–µ –ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–µ —Ä–µ–∞–ª—å–Ω–æ –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å.

---

# üîë 1. –ß—Ç–æ –¥–∞—ë—Ç —Å–∞–º OpenID –≤—Ö–æ–¥?

–ü–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ Steam –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç:

| –ü–æ–ª–µ        | –û–ø–∏—Å–∞–Ω–∏–µ                          |
| ----------- | --------------------------------- |
| **steamid** | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π SteamID64 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |

‚ö†Ô∏è –í—Å—ë. –ù–∏–∫–∞–∫–æ–≥–æ –∏–º–µ–Ω–∏, –∞–≤–∞—Ç–∞—Ä–∞, email.

---

# üåê 2. –ß—Ç–æ –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —á–µ—Ä–µ–∑ Steam Web API (GetPlayerSummaries)

–ó–∞–ø—Ä–æ—Å –∫ API:

```
https://api.steampowered.com/ISteamUser/GetPlayerSummaries/v2/?key=–í–ê–®_KEY&steamids=STEAMID64
```

–ë—É–¥–µ—Ç –≤–æ–∑–≤—Ä–∞—â—ë–Ω –æ–±—ä–µ–∫—Ç `player`, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π:

## ‚úî –û—Å–Ω–æ–≤–Ω—ã–µ –ø—É–±–ª–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

| –ü–æ–ª–µ             | –ó–Ω–∞—á–µ–Ω–∏–µ                                    |
| ---------------- | ------------------------------------------- |
| **steamid**      | UID                                         |
| **personaname**  | –ù–∏–∫–Ω–µ–π–º                                     |
| **profileurl**   | –°—Å—ã–ª–∫–∞ –Ω–∞ –ø—Ä–æ—Ñ–∏–ª—å                           |
| **avatar**       | –ú–∞–ª–µ–Ω—å–∫–∏–π –∞–≤–∞—Ç–∞—Ä 32x32                      |
| **avatarmedium** | –°—Ä–µ–¥–Ω–∏–π –∞–≤–∞—Ç–∞—Ä 64x64                        |
| **avatarfull**   | –ë–æ–ª—å—à–æ–π –∞–≤–∞—Ç–∞—Ä 184x184                      |
| **avatarhash**   | –•–µ—à –∞–≤–∞—Ç–∞—Ä–∞                                 |
| **personastate** | –û–Ω–ª–∞–π–Ω —Å—Ç–∞—Ç—É—Å (0‚ÄìOffline, 1‚ÄìOnline, –∏ —Ç.–¥.) |

---

## ‚úî –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

| –ü–æ–ª–µ                         | –ó–Ω–∞—á–µ–Ω–∏–µ                                            |
| ---------------------------- | --------------------------------------------------- |
| **realname**                 | –ù–∞—Å—Ç–æ—è—â–µ–µ –∏–º—è (–µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∫–ª—é—á–∏–ª –≤ –ø—Ä–æ—Ñ–∏–ª–µ) |
| **loccountrycode**           | –°—Ç—Ä–∞–Ω–∞                                              |
| **locstatecode**             | –†–µ–≥–∏–æ–Ω                                              |
| **loccityid**                | –ì–æ—Ä–æ–¥                                               |
| **timecreated**              | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∞–∫–∫–∞—É–Ω—Ç–∞ (unix timestamp)             |
| **lastlogoff**               | –ü–æ—Å–ª–µ–¥–Ω–∏–π –≤—ã—Ö–æ–¥ –∏–∑ Steam                            |
| **communityvisibilitystate** | –£—Ä–æ–≤–µ–Ω—å –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç–∏ –ø—Ä–æ—Ñ–∏–ª—è                         |
| **profilestate**             | –ë—ã–ª –ª–∏ –ø—Ä–æ—Ñ–∏–ª—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω                             |

---

# üéÆ 3. –î–∞–Ω–Ω—ã–µ –æ –∏–≥—Ä–∞—Ö (–µ—Å–ª–∏ –ø—Ä–æ—Ñ–∏–ª—å –æ—Ç–∫—Ä—ã—Ç)

### ‚úî –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∏–≥—Ä:

```
GetOwnedGames
```

–ú–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å:

* —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∏–≥—Ä
* playtime_forever (–æ–±—â–µ–µ –≤—Ä–µ–º—è)
* playtime_2weeks
* appid
* –Ω–∞–∑–≤–∞–Ω–∏–µ (–µ—Å–ª–∏ –ø–æ–ø—Ä–æ—Å–∏—Ç—å `include_appinfo=1`)
* –∏–∫–æ–Ω–∫–∞ –∏–≥—Ä—ã

---

# üïπ 4. –î–∞–Ω–Ω—ã–µ –æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è—Ö

```
GetPlayerAchievements
```

* —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∞—á–∏–≤–æ–∫
* unlocked / locked
* –≤—Ä–µ–º—è –ø–æ–ª—É—á–µ–Ω–∏—è

---

# üë• 5. –î—Ä—É–∑—å—è

```
GetFriendList
```

* steamid –¥—Ä—É–∑–µ–π
* —Ç–∏–ø –æ—Ç–Ω–æ—à–µ–Ω–∏–π (friend, blocked, request)

---

# üíº 6. –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å (—á–µ—Ä–µ–∑ –¥—Ä—É–≥–æ–π API)

–ù–µ —á–µ—Ä–µ–∑ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π WebAPI, –Ω–æ –¥–æ—Å—Ç—É–ø–µ–Ω JSON-–∏–Ω–≤–µ–Ω—Ç–∞—Ä—å:

```
https://steamcommunity.com/inventory/<steamid>/<app_id>/<context_id>
```

–ú–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å:

* –ø—Ä–µ–¥–º–µ—Ç—ã
* —Å–∫–∏–Ω—ã
* —Ü–µ–Ω—ã (–µ—Å–ª–∏ –µ—Å—Ç—å –≤ public auction)
* –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ

---

# üìß 7. –ß—Ç–æ –ù–ï –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å

Steam **–Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç email** –∏:

‚ùå email
‚ùå —Ç–µ–ª–µ—Ñ–æ–Ω
‚ùå –¥–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è
‚ùå –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

---

# üîß –•–æ—á–µ—à—å –ø—Ä–∏–º–µ—Ä Django –∫–æ–¥–∞, –∫–æ—Ç–æ—Ä—ã–π –ø–æ—Å–ª–µ –ª–æ–≥–∏–Ω–∞ –≤—ã—Ç—è–≥–∏–≤–∞–µ—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ (GetPlayerSummaries + –∏–≥—Ä—ã + –∞–≤–∞—Ç–∞—Ä) –≤ –º–æ–¥–µ–ª—å User?

–°–¥–µ–ª–∞—é –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–¥ —Ç–≤–æ–π –ø—Ä–æ–µ–∫—Ç.
–ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–æ—à—ë–ª —á–µ—Ä–µ–∑ **Steam OpenID**, —Ç–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ç—ã –ø–æ–ª—É—á–∞–µ—à—å **—Ç–æ–ª—å–∫–æ SteamID64**.
–í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω—É–∂–Ω–æ –∑–∞–ø—Ä–æ—Å–∏—Ç—å —á–µ—Ä–µ–∑ **Steam Web API** —Å –ø–æ–º–æ—â—å—é `SOCIAL_AUTH_STEAM_API_KEY`.

–ù–∏–∂–µ –ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–µ —Ä–µ–∞–ª—å–Ω–æ –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å.

---

# üîë 1. –ß—Ç–æ –¥–∞—ë—Ç —Å–∞–º OpenID –≤—Ö–æ–¥?

–ü–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ Steam –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç:

| –ü–æ–ª–µ        | –û–ø–∏—Å–∞–Ω–∏–µ                          |
| ----------- | --------------------------------- |
| **steamid** | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π SteamID64 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |

‚ö†Ô∏è –í—Å—ë. –ù–∏–∫–∞–∫–æ–≥–æ –∏–º–µ–Ω–∏, –∞–≤–∞—Ç–∞—Ä–∞, email.

---

# üåê 2. –ß—Ç–æ –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —á–µ—Ä–µ–∑ Steam Web API (GetPlayerSummaries)

–ó–∞–ø—Ä–æ—Å –∫ API:

```
https://api.steampowered.com/ISteamUser/GetPlayerSummaries/v2/?key=–í–ê–®_KEY&steamids=STEAMID64
```

–ë—É–¥–µ—Ç –≤–æ–∑–≤—Ä–∞—â—ë–Ω –æ–±—ä–µ–∫—Ç `player`, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π:

## ‚úî –û—Å–Ω–æ–≤–Ω—ã–µ –ø—É–±–ª–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

| –ü–æ–ª–µ             | –ó–Ω–∞—á–µ–Ω–∏–µ                                    |
| ---------------- | ------------------------------------------- |
| **steamid**      | UID                                         |
| **personaname**  | –ù–∏–∫–Ω–µ–π–º                                     |
| **profileurl**   | –°—Å—ã–ª–∫–∞ –Ω–∞ –ø—Ä–æ—Ñ–∏–ª—å                           |
| **avatar**       | –ú–∞–ª–µ–Ω—å–∫–∏–π –∞–≤–∞—Ç–∞—Ä 32x32                      |
| **avatarmedium** | –°—Ä–µ–¥–Ω–∏–π –∞–≤–∞—Ç–∞—Ä 64x64                        |
| **avatarfull**   | –ë–æ–ª—å—à–æ–π –∞–≤–∞—Ç–∞—Ä 184x184                      |
| **avatarhash**   | –•–µ—à –∞–≤–∞—Ç–∞—Ä–∞                                 |
| **personastate** | –û–Ω–ª–∞–π–Ω —Å—Ç–∞—Ç—É—Å (0‚ÄìOffline, 1‚ÄìOnline, –∏ —Ç.–¥.) |

---

## ‚úî –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

| –ü–æ–ª–µ                         | –ó–Ω–∞—á–µ–Ω–∏–µ                                            |
| ---------------------------- | --------------------------------------------------- |
| **realname**                 | –ù–∞—Å—Ç–æ—è—â–µ–µ –∏–º—è (–µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∫–ª—é—á–∏–ª –≤ –ø—Ä–æ—Ñ–∏–ª–µ) |
| **loccountrycode**           | –°—Ç—Ä–∞–Ω–∞                                              |
| **locstatecode**             | –†–µ–≥–∏–æ–Ω                                              |
| **loccityid**                | –ì–æ—Ä–æ–¥                                               |
| **timecreated**              | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∞–∫–∫–∞—É–Ω—Ç–∞ (unix timestamp)             |
| **lastlogoff**               | –ü–æ—Å–ª–µ–¥–Ω–∏–π –≤—ã—Ö–æ–¥ –∏–∑ Steam                            |
| **communityvisibilitystate** | –£—Ä–æ–≤–µ–Ω—å –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç–∏ –ø—Ä–æ—Ñ–∏–ª—è                         |
| **profilestate**             | –ë—ã–ª –ª–∏ –ø—Ä–æ—Ñ–∏–ª—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω                             |

---

# üéÆ 3. –î–∞–Ω–Ω—ã–µ –æ –∏–≥—Ä–∞—Ö (–µ—Å–ª–∏ –ø—Ä–æ—Ñ–∏–ª—å –æ—Ç–∫—Ä—ã—Ç)

### ‚úî –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∏–≥—Ä:

```
GetOwnedGames
```

–ú–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å:

* —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∏–≥—Ä
* playtime_forever (–æ–±—â–µ–µ –≤—Ä–µ–º—è)
* playtime_2weeks
* appid
* –Ω–∞–∑–≤–∞–Ω–∏–µ (–µ—Å–ª–∏ –ø–æ–ø—Ä–æ—Å–∏—Ç—å `include_appinfo=1`)
* –∏–∫–æ–Ω–∫–∞ –∏–≥—Ä—ã

---

# üïπ 4. –î–∞–Ω–Ω—ã–µ –æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è—Ö

```
GetPlayerAchievements
```

* —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∞—á–∏–≤–æ–∫
* unlocked / locked
* –≤—Ä–µ–º—è –ø–æ–ª—É—á–µ–Ω–∏—è

---

# üë• 5. –î—Ä—É–∑—å—è

```
GetFriendList
```

* steamid –¥—Ä—É–∑–µ–π
* —Ç–∏–ø –æ—Ç–Ω–æ—à–µ–Ω–∏–π (friend, blocked, request)

---

# üíº 6. –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å (—á–µ—Ä–µ–∑ –¥—Ä—É–≥–æ–π API)

–ù–µ —á–µ—Ä–µ–∑ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π WebAPI, –Ω–æ –¥–æ—Å—Ç—É–ø–µ–Ω JSON-–∏–Ω–≤–µ–Ω—Ç–∞—Ä—å:

```
https://steamcommunity.com/inventory/<steamid>/<app_id>/<context_id>
```

–ú–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å:

* –ø—Ä–µ–¥–º–µ—Ç—ã
* —Å–∫–∏–Ω—ã
* —Ü–µ–Ω—ã (–µ—Å–ª–∏ –µ—Å—Ç—å –≤ public auction)
* –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ

---

# üìß 7. –ß—Ç–æ –ù–ï –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å

Steam **–Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç email** –∏:

‚ùå email
‚ùå —Ç–µ–ª–µ—Ñ–æ–Ω
‚ùå –¥–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è
‚ùå –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

---

# üîß –•–æ—á–µ—à—å –ø—Ä–∏–º–µ—Ä Django –∫–æ–¥–∞, –∫–æ—Ç–æ—Ä—ã–π –ø–æ—Å–ª–µ –ª–æ–≥–∏–Ω–∞ –≤—ã—Ç—è–≥–∏–≤–∞–µ—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ (GetPlayerSummaries + –∏–≥—Ä—ã + –∞–≤–∞—Ç–∞—Ä) –≤ –º–æ–¥–µ–ª—å User?

–°–¥–µ–ª–∞—é –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–¥ —Ç–≤–æ–π –ø—Ä–æ–µ–∫—Ç.
–ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–æ—à—ë–ª —á–µ—Ä–µ–∑ **Steam OpenID**, —Ç–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ç—ã –ø–æ–ª—É—á–∞–µ—à—å **—Ç–æ–ª—å–∫–æ SteamID64**.
–í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω—É–∂–Ω–æ –∑–∞–ø—Ä–æ—Å–∏—Ç—å —á–µ—Ä–µ–∑ **Steam Web API** —Å –ø–æ–º–æ—â—å—é `SOCIAL_AUTH_STEAM_API_KEY`.

–ù–∏–∂–µ –ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–µ —Ä–µ–∞–ª—å–Ω–æ –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å.

---

# üîë 1. –ß—Ç–æ –¥–∞—ë—Ç —Å–∞–º OpenID –≤—Ö–æ–¥?

–ü–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ Steam –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç:

| –ü–æ–ª–µ        | –û–ø–∏—Å–∞–Ω–∏–µ                          |
| ----------- | --------------------------------- |
| **steamid** | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π SteamID64 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |

‚ö†Ô∏è –í—Å—ë. –ù–∏–∫–∞–∫–æ–≥–æ –∏–º–µ–Ω–∏, –∞–≤–∞—Ç–∞—Ä–∞, email.

---

# üåê 2. –ß—Ç–æ –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —á–µ—Ä–µ–∑ Steam Web API (GetPlayerSummaries)

–ó–∞–ø—Ä–æ—Å –∫ API:

```
https://api.steampowered.com/ISteamUser/GetPlayerSummaries/v2/?key=–í–ê–®_KEY&steamids=STEAMID64
```

–ë—É–¥–µ—Ç –≤–æ–∑–≤—Ä–∞—â—ë–Ω –æ–±—ä–µ–∫—Ç `player`, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π:

## ‚úî –û—Å–Ω–æ–≤–Ω—ã–µ –ø—É–±–ª–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

| –ü–æ–ª–µ             | –ó–Ω–∞—á–µ–Ω–∏–µ                                    |
| ---------------- | ------------------------------------------- |
| **steamid**      | UID                                         |
| **personaname**  | –ù–∏–∫–Ω–µ–π–º                                     |
| **profileurl**   | –°—Å—ã–ª–∫–∞ –Ω–∞ –ø—Ä–æ—Ñ–∏–ª—å                           |
| **avatar**       | –ú–∞–ª–µ–Ω—å–∫–∏–π –∞–≤–∞—Ç–∞—Ä 32x32                      |
| **avatarmedium** | –°—Ä–µ–¥–Ω–∏–π –∞–≤–∞—Ç–∞—Ä 64x64                        |
| **avatarfull**   | –ë–æ–ª—å—à–æ–π –∞–≤–∞—Ç–∞—Ä 184x184                      |
| **avatarhash**   | –•–µ—à –∞–≤–∞—Ç–∞—Ä–∞                                 |
| **personastate** | –û–Ω–ª–∞–π–Ω —Å—Ç–∞—Ç—É—Å (0‚ÄìOffline, 1‚ÄìOnline, –∏ —Ç.–¥.) |

---

## ‚úî –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

| –ü–æ–ª–µ                         | –ó–Ω–∞—á–µ–Ω–∏–µ                                            |
| ---------------------------- | --------------------------------------------------- |
| **realname**                 | –ù–∞—Å—Ç–æ—è—â–µ–µ –∏–º—è (–µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∫–ª—é—á–∏–ª –≤ –ø—Ä–æ—Ñ–∏–ª–µ) |
| **loccountrycode**           | –°—Ç—Ä–∞–Ω–∞                                              |
| **locstatecode**             | –†–µ–≥–∏–æ–Ω                                              |
| **loccityid**                | –ì–æ—Ä–æ–¥                                               |
| **timecreated**              | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∞–∫–∫–∞—É–Ω—Ç–∞ (unix timestamp)             |
| **lastlogoff**               | –ü–æ—Å–ª–µ–¥–Ω–∏–π –≤—ã—Ö–æ–¥ –∏–∑ Steam                            |
| **communityvisibilitystate** | –£—Ä–æ–≤–µ–Ω—å –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç–∏ –ø—Ä–æ—Ñ–∏–ª—è                         |
| **profilestate**             | –ë—ã–ª –ª–∏ –ø—Ä–æ—Ñ–∏–ª—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω                             |

---

# üéÆ 3. –î–∞–Ω–Ω—ã–µ –æ –∏–≥—Ä–∞—Ö (–µ—Å–ª–∏ –ø—Ä–æ—Ñ–∏–ª—å –æ—Ç–∫—Ä—ã—Ç)

### ‚úî –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∏–≥—Ä:

```
GetOwnedGames
```

–ú–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å:

* —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∏–≥—Ä
* playtime_forever (–æ–±—â–µ–µ –≤—Ä–µ–º—è)
* playtime_2weeks
* appid
* –Ω–∞–∑–≤–∞–Ω–∏–µ (–µ—Å–ª–∏ –ø–æ–ø—Ä–æ—Å–∏—Ç—å `include_appinfo=1`)
* –∏–∫–æ–Ω–∫–∞ –∏–≥—Ä—ã

---

# üïπ 4. –î–∞–Ω–Ω—ã–µ –æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è—Ö

```
GetPlayerAchievements
```

* —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∞—á–∏–≤–æ–∫
* unlocked / locked
* –≤—Ä–µ–º—è –ø–æ–ª—É—á–µ–Ω–∏—è

---

# üë• 5. –î—Ä—É–∑—å—è

```
GetFriendList
```

* steamid –¥—Ä—É–∑–µ–π
* —Ç–∏–ø –æ—Ç–Ω–æ—à–µ–Ω–∏–π (friend, blocked, request)

---

# üíº 6. –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å (—á–µ—Ä–µ–∑ –¥—Ä—É–≥–æ–π API)

–ù–µ —á–µ—Ä–µ–∑ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π WebAPI, –Ω–æ –¥–æ—Å—Ç—É–ø–µ–Ω JSON-–∏–Ω–≤–µ–Ω—Ç–∞—Ä—å:

```
https://steamcommunity.com/inventory/<steamid>/<app_id>/<context_id>
```

–ú–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å:

* –ø—Ä–µ–¥–º–µ—Ç—ã–ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–æ—à—ë–ª —á–µ—Ä–µ–∑ **Steam OpenID**, —Ç–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ç—ã –ø–æ–ª—É—á–∞–µ—à—å **—Ç–æ–ª—å–∫–æ SteamID64**.
–í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω—É–∂–Ω–æ –∑–∞–ø—Ä–æ—Å–∏—Ç—å —á–µ—Ä–µ–∑ **Steam Web API** —Å –ø–æ–º–æ—â—å—é `SOCIAL_AUTH_STEAM_API_KEY`.

–ù–∏–∂–µ –ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–µ —Ä–µ–∞–ª—å–Ω–æ –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å.

---

# üîë 1. –ß—Ç–æ –¥–∞—ë—Ç —Å–∞–º OpenID –≤—Ö–æ–¥?

–ü–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ Steam –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç:

| –ü–æ–ª–µ        | –û–ø–∏—Å–∞–Ω–∏–µ                          |
| ----------- | --------------------------------- |
| **steamid** | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π SteamID64 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |

‚ö†Ô∏è –í—Å—ë. –ù–∏–∫–∞–∫–æ–≥–æ –∏–º–µ–Ω–∏, –∞–≤–∞—Ç–∞—Ä–∞, email.

---

# üåê 2. –ß—Ç–æ –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —á–µ—Ä–µ–∑ Steam Web API (GetPlayerSummaries)

–ó–∞–ø—Ä–æ—Å –∫ API:

```
https://api.steampowered.com/ISteamUser/GetPlayerSummaries/v2/?key=–í–ê–®_KEY&steamids=STEAMID64
```

–ë—É–¥–µ—Ç –≤–æ–∑–≤—Ä–∞—â—ë–Ω –æ–±—ä–µ–∫—Ç `player`, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π:

## ‚úî –û—Å–Ω–æ–≤–Ω—ã–µ –ø—É–±–ª–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

| –ü–æ–ª–µ             | –ó–Ω–∞—á–µ–Ω–∏–µ                                    |
| ---------------- | ------------------------------------------- |
| **steamid**      | UID                                         |
| **personaname**  | –ù–∏–∫–Ω–µ–π–º                                     |
| **profileurl**   | –°—Å—ã–ª–∫–∞ –Ω–∞ –ø—Ä–æ—Ñ–∏–ª—å                           |
| **avatar**       | –ú–∞–ª–µ–Ω—å–∫–∏–π –∞–≤–∞—Ç–∞—Ä 32x32                      |
| **avatarmedium** | –°—Ä–µ–¥–Ω–∏–π –∞–≤–∞—Ç–∞—Ä 64x64                        |
| **avatarfull**   | –ë–æ–ª—å—à–æ–π –∞–≤–∞—Ç–∞—Ä 184x184                      |
| **avatarhash**   | –•–µ—à –∞–≤–∞—Ç–∞—Ä–∞                                 |
| **personastate** | –û–Ω–ª–∞–π–Ω —Å—Ç–∞—Ç—É—Å (0‚ÄìOffline, 1‚ÄìOnline, –∏ —Ç.–¥.) |

---

## ‚úî –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

| –ü–æ–ª–µ                         | –ó–Ω–∞—á–µ–Ω–∏–µ                                            |
| ---------------------------- | --------------------------------------------------- |
| **realname**                 | –ù–∞—Å—Ç–æ—è—â–µ–µ –∏–º—è (–µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∫–ª—é—á–∏–ª –≤ –ø—Ä–æ—Ñ–∏–ª–µ) |
| **loccountrycode**           | –°—Ç—Ä–∞–Ω–∞                                              |
| **locstatecode**             | –†–µ–≥–∏–æ–Ω                                              |
| **loccityid**                | –ì–æ—Ä–æ–¥                                               |
| **timecreated**              | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∞–∫–∫–∞—É–Ω—Ç–∞ (unix timestamp)             |
| **lastlogoff**               | –ü–æ—Å–ª–µ–¥–Ω–∏–π –≤—ã—Ö–æ–¥ –∏–∑ Steam                            |
| **communityvisibilitystate** | –£—Ä–æ–≤–µ–Ω—å –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç–∏ –ø—Ä–æ—Ñ–∏–ª—è                         |
| **profilestate**             | –ë—ã–ª –ª–∏ –ø—Ä–æ—Ñ–∏–ª—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω                             |

---

# üéÆ 3. –î–∞–Ω–Ω—ã–µ –æ –∏–≥—Ä–∞—Ö (–µ—Å–ª–∏ –ø—Ä–æ—Ñ–∏–ª—å –æ—Ç–∫—Ä—ã—Ç)

### ‚úî –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∏–≥—Ä:

```
GetOwnedGames
```

–ú–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å:

* —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∏–≥—Ä
* playtime_forever (–æ–±—â–µ–µ –≤—Ä–µ–º—è)
* playtime_2weeks
* appid
* –Ω–∞–∑–≤–∞–Ω–∏–µ (–µ—Å–ª–∏ –ø–æ–ø—Ä–æ—Å–∏—Ç—å `include_appinfo=1`)
* –∏–∫–æ–Ω–∫–∞ –∏–≥—Ä—ã

---

# üïπ 4. –î–∞–Ω–Ω—ã–µ –æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è—Ö

```
GetPlayerAchievements
```

* —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∞—á–∏–≤–æ–∫
* unlocked / locked
* –≤—Ä–µ–º—è –ø–æ–ª—É—á–µ–Ω–∏—è

---

# üë• 5. –î—Ä—É–∑—å—è

```
GetFriendList
```

* steamid –¥—Ä—É–∑–µ–π
* —Ç–∏–ø –æ—Ç–Ω–æ—à–µ–Ω–∏–π (friend, blocked, request)

---

# üíº 6. –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å (—á–µ—Ä–µ–∑ –¥—Ä—É–≥–æ–π API)

–ù–µ —á–µ—Ä–µ–∑ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π WebAPI, –Ω–æ –¥–æ—Å—Ç—É–ø–µ–Ω JSON-–∏–Ω–≤–µ–Ω—Ç–∞—Ä—å:

```
https://steamcommunity.com/inventory/<steamid>/<app_id>/<context_id>
```

–ú–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å:

* –ø—Ä–µ–¥–º–µ—Ç—ã
* —Å–∫–∏–Ω—ã
* —Ü–µ–Ω—ã (–µ—Å–ª–∏ –µ—Å—Ç—å –≤ public auction)
* –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ

---

# üìß 7. –ß—Ç–æ –ù–ï –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å

Steam **–Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç email** –∏:

‚ùå email
‚ùå —Ç–µ–ª–µ—Ñ–æ–Ω
‚ùå –¥–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è
‚ùå –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

---

# üîß –•–æ—á–µ—à—å –ø—Ä–∏–º–µ—Ä Django –∫–æ–¥–∞, –∫–æ—Ç–æ—Ä—ã–π –ø–æ—Å–ª–µ –ª–æ–≥–∏–Ω–∞ –≤—ã—Ç—è–≥–∏–≤–∞–µ—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ (GetPlayerSummaries + –∏–≥—Ä—ã + –∞–≤–∞—Ç–∞—Ä) –≤ –º–æ–¥–µ–ª—å User?

–°–¥–µ–ª–∞—é –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–¥ —Ç–≤–æ–π –ø—Ä–æ–µ–∫—Ç.

* —Å–∫–∏–Ω—ã
* —Ü–µ–Ω—ã (–µ—Å–ª–∏ –µ—Å—Ç—å –≤ public auction)
* –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ

---

# üìß 7. –ß—Ç–æ –ù–ï –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å

Steam **–Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç email** –∏:

‚ùå email
‚ùå —Ç–µ–ª–µ—Ñ–æ–Ω
‚ùå –¥–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è
‚ùå –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

---

# üîß –•–æ—á–µ—à—å –ø—Ä–∏–º–µ—Ä Django –∫–æ–¥–∞, –∫–æ—Ç–æ—Ä—ã–π –ø–æ—Å–ª–µ –ª–æ–≥–∏–Ω–∞ –≤—ã—Ç—è–≥–∏–≤–∞–µ—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ (GetPlayerSummaries + –∏–≥—Ä—ã + –∞–≤–∞—Ç–∞—Ä) –≤ –º–æ–¥–µ–ª—å User?

–°–¥–µ–ª–∞—é –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–¥ —Ç–≤–æ–π –ø—Ä–æ–µ–∫—Ç.
_____________________________________________________
–Ø –º–æ–≥—É –æ–±—ä—è—Å–Ω–∏—Ç—å, –∫–∞–∫ **—Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤—Ö–æ–¥ —á–µ—Ä–µ–∑ Steam –≤ Django –≤—Ä—É—á–Ω—É—é** –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫, –æ–ø–∏—Ä–∞—è—Å—å –Ω–∞ –ø—Ä–æ—Ç–æ–∫–æ–ª **OpenID 2.0**, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Steam.

–≠—Ç–æ –¥–æ–≤–æ–ª—å–Ω–æ —Å–ª–æ–∂–Ω–∞—è –∑–∞–¥–∞—á–∞, –∏ –æ–Ω–∞ —Ç—Ä–µ–±—É–µ—Ç **–Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —à–∞–≥–æ–≤**:

1.  –ì–µ–Ω–µ—Ä–∞—Ü–∏—è URL-–∞–¥—Ä–µ—Å–∞ OpenID.
2.  –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—Ç Steam.
3.  –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ª–∏–Ω–Ω–æ—Å—Ç–∏ –æ—Ç–≤–µ—Ç–∞.
4.  –°–æ–∑–¥–∞–Ω–∏–µ/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ Django.

## üîë –®–∞–≥ 1: –ü–æ–ª—É—á–µ–Ω–∏–µ URL-–∞–¥—Ä–µ—Å–∞ –¥–ª—è –≤—Ö–æ–¥–∞ (OpenID Realm)

–°–Ω–∞—á–∞–ª–∞ –≤–∞–º –Ω—É–∂–Ω–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å URL-–∞–¥—Ä–µ—Å, –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É –≤—ã –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ Steam. –≠—Ç–æ—Ç URL-–∞–¥—Ä–µ—Å —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤–∞—à–µ–º —Å–∞–π—Ç–µ (Realm) –∏ –∫—É–¥–∞ Steam –¥–æ–ª–∂–µ–Ω –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–≤–µ—Ç.

### –ë–∞–∑–æ–≤—ã–π URL OpenID:

```
https://steamcommunity.com/openid/
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
| :--- | :--- | :--- |
| **openid.ns** | `http://specs.openid.net/auth/2.0` | –ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –∏–º–µ–Ω OpenID. |
| **openid.mode** | `checkid_setup` | –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é. |
| **openid.return\_to** | `[–í–ê–® URL –î–õ–Ø –û–ë–†–ê–ë–û–¢–ö–ò]` | URL, –∫—É–¥–∞ Steam –≤–µ—Ä–Ω–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, `https://example.com/login/steam/verify`). **–î–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω.** |
| **openid.realm** | `[–í–ê–® –î–û–ú–ï–ù]` | –û—Å–Ω–æ–≤–Ω–æ–π –¥–æ–º–µ–Ω –≤–∞—à–µ–≥–æ —Å–∞–π—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `https://example.com`). |
| **openid.identity** | `http://specs.openid.net/auth/2.0/identifier_select` | –£–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–µ—Ä–µ—Ç —Å–≤–æ–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä. |
| **openid.claimed\_id** | `http://specs.openid.net/auth/2.0/identifier_select` | –£–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç—Å—è SteamID. |

–í–∞–º –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å **Django View**, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ—Ç –ø–æ–ª–Ω—ã–π URL –∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—Ç—å –Ω–∞ –Ω–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

## üîÑ –®–∞–≥ 2: –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—Ç Steam

–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–æ–π–¥–µ—Ç –≤ —Å–∏—Å—Ç–µ–º—É, Steam –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç –µ–≥–æ –æ–±—Ä–∞—Ç–Ω–æ –Ω–∞ –≤–∞—à URL `openid.return_to` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `https://example.com/login/steam/verify/?...`).

–í **GET-–ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö** —ç—Ç–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ –±—É–¥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å—Å—è –≤–∞–∂–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –≤–∫–ª—é—á–∞—è:

  * `openid.mode`: –ë—É–¥–µ—Ç `id_res` (–æ—Ç–≤–µ—Ç –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞).
  * `openid.signed`: –°–ø–∏—Å–æ–∫ –ø–æ–ª–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –ø–æ–¥–ø–∏—Å–∞–Ω—ã Steam (–¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏).
  * `openid.sig`: –ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∞—è –ø–æ–¥–ø–∏—Å—å –æ—Ç–≤–µ—Ç–∞.
  * **`openid.claimed_id`**: **–£–Ω–∏–∫–∞–ª—å–Ω—ã–π SteamID** –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, `https://steamcommunity.com/openid/id/765611980...`).

–í–∞–º –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å **Django View**, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —ç—Ç–æ—Ç GET-–∑–∞–ø—Ä–æ—Å.

## ‚úÖ –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ª–∏–Ω–Ω–æ—Å—Ç–∏ –æ—Ç–≤–µ—Ç–∞ (–°–∞–º—ã–π –≤–∞–∂–Ω—ã–π —à–∞–≥)

–ß—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –æ—Ç–≤–µ—Ç –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–∏—à–µ–ª –æ—Ç Steam, –∞ –Ω–µ –æ—Ç –∑–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫–∞, –≤—ã –¥–æ–ª–∂–Ω—ã –≤—ã–ø–æ–ª–Ω–∏—Ç—å **–≤—Ç–æ—Ä–æ–π –∑–∞–ø—Ä–æ—Å** –∫ Steam.

### A. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø—Ä–æ–≤–µ—Ä–∫–∏:

–í–æ–∑—å–º–∏—Ç–µ –≤—Å–µ GET-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã –ø–æ–ª—É—á–∏–ª–∏ –Ω–∞ –®–∞–≥–µ 2, –∏ –∏–∑–º–µ–Ω–∏—Ç–µ –∏—Ö:

1.  –£–¥–∞–ª–∏—Ç–µ `openid.mode=id_res`.
2.  –î–æ–±–∞–≤—å—Ç–µ `openid.mode=check_authentication`.

### B. –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É:

–û—Ç–ø—Ä–∞–≤—å—Ç–µ **POST-–∑–∞–ø—Ä–æ—Å** –Ω–∞ —Ç–æ—Ç –∂–µ –±–∞–∑–æ–≤—ã–π URL Steam: `https://steamcommunity.com/openid/` —Å–æ –≤—Å–µ–º–∏ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏.

### C. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–∞ –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É:

Steam –æ—Ç–≤–µ—Ç–∏—Ç —Ç–µ–∫—Å—Ç–æ–º, —Å–æ–¥–µ—Ä–∂–∞—â–∏–º:

```
is_valid:true
```

–ï—Å–ª–∏ –≤—ã –ø–æ–ª—É—á–∏–ª–∏ `is_valid:true`, —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ **–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞**, –∏ –≤—ã –º–æ–∂–µ—Ç–µ –¥–æ–≤–µ—Ä—è—Ç—å SteamID, —É–∫–∞–∑–∞–Ω–Ω–æ–º—É –≤ `openid.claimed_id`.

## üíæ –®–∞–≥ 4: –°–æ–∑–¥–∞–Ω–∏–µ –∏–ª–∏ –≤—Ö–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ Django

### A. –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ SteamID:

–ü–æ–ª—É—á–∏—Ç–µ **—á–∏—Å—Ç—ã–π SteamID** –∏–∑ `openid.claimed_id`.

> –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ `openid.claimed_id` —Ä–∞–≤–Ω–æ `https://steamcommunity.com/openid/id/76561198000000000`, SteamID ‚Äî —ç—Ç–æ `76561198000000000`.

### B. –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ—Ñ–∏–ª—è (API Steam):

–ß—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å –≤—Ö–æ–¥ –ø–æ–ª–µ–∑–Ω—ã–º, –≤–∞–º –Ω—É–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏, –≤–æ–∑–º–æ–∂–Ω–æ, –∞–≤–∞—Ç–∞—Ä. –î–ª—è —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ **Web API Steam**:

1.  –í–∞–º –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è **Steam Web API Key** (–º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –Ω–∞ —Å–∞–π—Ç–µ Steam).
2.  –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∑–∞–ø—Ä–æ—Å –∫ API: `http://api.steampowered.com/ISteamUser/GetPlayerSummaries/v0002/?key=[–í–ê–® –ö–õ–Æ–ß]&steamids=[SteamID]`

### C. –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –≤ Django:

1.  –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π SteamID –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –≤–∞—à–µ–π –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö Django.
2.  **–ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å—É—â–µ—Å—Ç–≤—É–µ—Ç**:
      * –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä—É–π—Ç–µ –µ–≥–æ —Å –ø–æ–º–æ—â—å—é `django.contrib.auth.login(request, user)`.
3.  **–ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç**:
      * –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è Django, –∏—Å–ø–æ–ª—å–∑—É—è –¥–∞–Ω–Ω—ã–µ, –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –∏–∑ API (–∏–º—è, –∞–≤–∞—Ç–∞—Ä).
      * **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ SteamID** –≤ –∫–∞—Å—Ç–æ–º–Ω–æ–º –ø–æ–ª–µ –≤–∞—à–µ–π –º–æ–¥–µ–ª–∏ `User` –∏–ª–∏ –≤ —Å–≤—è–∑–∞–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏ `UserProfile`.
      * –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä—É–π—Ç–µ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

-----

## üíª –ö—Ä–∞—Ç–∫–∏–π –æ–±–∑–æ—Ä –≤ –∫–æ–¥–µ Django

### urls.py

```python
# path('login/steam/', views.steam_login_redirect, name='steam_login'),
# path('login/steam/verify/', views.steam_login_verify, name='steam_verify'),
```

### views.py (–û—Å–Ω–æ–≤–Ω—ã–µ —ç—Ç–∞–ø—ã)

```python
from urllib.parse import urlencode, parse_qs
from django.shortcuts import redirect
from django.conf import settings
from django.contrib.auth import login
import requests
import re
# from .models import CustomUser  # –í–∞—à–∞ –º–æ–¥–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –∫–∞—Å—Ç–æ–º–Ω—É—é

# Steam OpenID endpoint
OPENID_URL = 'https://steamcommunity.com/openid/'
STEAM_ID_REGEX = re.compile(r'https://steamcommunity.com/openid/id/(\d+)')

def steam_login_redirect(request):
    """–®–∞–≥ 1: –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ Steam."""
    # –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ 'steam_verify' —è–≤–ª—è–µ—Ç—Å—è –ø–æ–ª–Ω—ã–º –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º URL.
    return_to = request.build_absolute_uri(request.get_full_path().replace('steam/', 'steam/verify/'))
    
    params = {
        'openid.ns': 'http://specs.openid.net/auth/2.0',
        'openid.mode': 'checkid_setup',
        'openid.return_to': return_to,
        'openid.realm': request.build_absolute_uri('/'),
        'openid.identity': 'http://specs.openid.net/auth/2.0/identifier_select',
        'openid.claimed_id': 'http://specs.openid.net/auth/2.0/identifier_select',
    }
    
    return redirect(f"{OPENID_URL}?{urlencode(params)}")

def steam_login_verify(request):
    """–®–∞–≥ 2 & 3: –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–∞ Steam –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞."""
    if 'openid.mode' not in request.GET or request.GET['openid.mode'] != 'id_res':
        # –û—à–∏–±–∫–∞ –∏–ª–∏ –æ—Ç–º–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
        return redirect('homepage') 

    # --- –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ª–∏–Ω–Ω–æ—Å—Ç–∏ (check_authentication) ---
    verification_params = request.GET.copy()
    
    # 1. –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
    verification_params['openid.mode'] = 'check_authentication'
    
    # 2. –û—Ç–ø—Ä–∞–≤–∫–∞ POST-–∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É
    try:
        response = requests.post(OPENID_URL, data=verification_params)
        response_text = response.text
    except requests.RequestException:
        # –û—à–∏–±–∫–∞ —Å–µ—Ç–∏/–∑–∞–ø—Ä–æ—Å–∞
        return redirect('homepage') 

    # 3. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–∞ –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É
    if 'is_valid:true' not in response_text:
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ –ø—Ä–æ–π–¥–µ–Ω–∞
        return redirect('homepage')

    # --- –®–∞–≥ 4: –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –≤ Django ---
    claimed_id = request.GET.get('openid.claimed_id')
    match = STEAM_ID_REGEX.search(claimed_id)
    
    if not match:
        return redirect('homepage')

    steam_id = match.group(1)

    # –ó–¥–µ—Å—å –ª–æ–≥–∏–∫–∞: 
    # 1. –ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ steam_id –≤ –≤–∞—à–µ–π –ë–î.
    # 2. –ï—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω, –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ—Ñ–∏–ª—è —á–µ—Ä–µ–∑ Steam Web API 
    #    (–ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º settings.STEAM_API_KEY) 
    #    –∏ —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
    # 3. login(request, user)
    
    # –ü—Ä–∏–º–µ—Ä (–ø—Ä–æ—Å—Ç–æ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ —É—Å–ø–µ—à–Ω–æ–≥–æ SteamID)
    # user = authenticate_or_create_user(steam_id) # –í–∞—à–∞ —Ñ—É–Ω–∫—Ü–∏—è
    # login(request, user)
    
    return redirect('profile') # –ò–ª–∏ –∫—É–¥–∞-—Ç–æ –µ—â–µ
```

–ü–æ—Å–∫–æ–ª—å–∫—É —ç—Ç–æ—Ç –ø—Ä–æ—Ü–µ—Å—Å —Ç—Ä–µ–±—É–µ—Ç —Ä—É—á–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ OpenID 2.0, **–≤ –ø–æ–¥–∞–≤–ª—è—é—â–µ–º –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å–ª—É—á–∞–µ–≤ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–æ—Ç–æ–≤—É—é, —Ö–æ—Ä–æ—à–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–Ω—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É** (–Ω–∞–ø—Ä–∏–º–µ—Ä, `python-social-auth` –∏–ª–∏ `django-steam-api`), —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –æ—à–∏–±–æ–∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –ø—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ –ø–æ–¥–ø–∏—Å–∏.